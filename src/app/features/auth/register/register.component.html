<body>
  <div class="container">
    <div class="section register-container">
      <h3 class="text-center mb-3">REGISTRO DE USUARIO</h3>
  
      <!-- Mensaje de éxito -->
      <div *ngIf="successMessage" class="alert alert-success text-center">
        {{ successMessage }}
      </div>
  
      <!-- Mensaje de error -->
      <div *ngIf="errorMessage" class="alert alert-danger text-center">
        {{ errorMessage }}
      </div>
  
      <form [formGroup]="registerForm" (ngSubmit)="submitRegister()">
        <!-- Nombre -->
        <div class="input-group">
          <label for="name">Nombre y apellidos</label>
          <input type="text" id="name" formControlName="name" placeholder="Ej. Juan Pérez" />
          <small *ngIf="f['name'].invalid && f['name'].touched" class="error">
            Nombre es requerido.
          </small>
        </div>
  
        <!-- Email -->
        <div class="input-group">
          <label for="email">Correo electrónico</label>
          <input type="email" id="email" formControlName="email" placeholder="Ej. usuario@email.com" />
          <small *ngIf="f['email'].invalid && f['email'].touched" class="error">
            Ingrese un correo válido.
          </small>
        </div>
  
        <!-- Teléfono -->
        <div class="input-group">
          <label for="phone">Teléfono</label>
          <input type="text" id="phone" formControlName="phone" placeholder="Ej. 123456789" />
          <small *ngIf="f['phone'].invalid && f['phone'].touched" class="error">
            Teléfono es requerido.
          </small>
        </div>
  
        <!-- Contraseña -->
        <div class="input-group">
          <label for="password">Contraseña</label>
          <input type="password" id="password" formControlName="password" placeholder="Mínimo 6 caracteres" />
          <small *ngIf="f['password'].invalid && f['password'].touched" class="error">
            Mínimo 6 caracteres.
          </small>
        </div>
  
        <!-- Repetir Contraseña -->
        <div class="input-group">
          <label for="repeatPassword">Repetir Contraseña</label>
          <input type="password" id="repeatPassword" formControlName="repeatPassword" placeholder="Repite tu contraseña" />
          <small *ngIf="registerForm.hasError('mismatch')" class="error">
            Las contraseñas no coinciden.
          </small>
        </div>

        <form id="registroForm">
          <label>
              <input type="checkbox" id="newsletter" formControlName="newsletter" name='newsletter' value="1">
              Suscribirse a la newsletter
          </label><br>
      
          <label>
              <input type="checkbox" id="privacity" formControlName="privacity" name="privacity" value="1" required>
              Acepto la <a href="/privacidad" target="_blank">Política de privacidad</a>
          </label><br>
      
      </form>
  
        <!-- Botón de Registro -->
        <button type="submit" >
          {{ isLoading ? 'Registrando...' : 'Registrarse' }}
        </button>
      </form>
  
      <p class="text-center mt-3">
        ¿Ya tienes cuenta? <a [routerLink]="['/login']" class="text-decoration-none">Inicia sesión</a>
      </p>
    </div>
  </div>
  

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
